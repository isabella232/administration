<div class="sw-settings-import-export-view-profiles">
    <sw-card title="Profiles" class="sw-settings-import-export-view-profiles__grid-card">

        <div class="sw-settings-import-export-view-profiles__toolbar">
            {# TODO: implement search functionality #}
            <sw-simple-search-field
                size="small"
                variant="form"
                 v-model="searchTerm"
                 @search-term-change="onSearch">
            </sw-simple-search-field>

            <sw-button
                variant="ghost"
                :disabled="isLoading"
                @click="onAddNewProfile"
                size="small">
                    Add new profile
            </sw-button>
        </div>

        {# TODO: add context menu and change to profiles #}
        <sw-entity-listing
            slot="grid"
            :repository="profileRepository"
            :items="profiles"
            :isLoading="isLoading"
            :columns="profilesColumns"
            :showSettings="false"
            :showSelection="false"
            :allowColumnEdit="false"
            :fullPage="true">

            <template #actions="{ item }">
                <sw-context-menu-item @click="onEditProfile(item.id)">
                    Open
                </sw-context-menu-item>

                <sw-context-menu-item @click="onDuplicateProfile(item.id)">
                    Duplicate
                </sw-context-menu-item>

                <sw-context-menu-item variant="danger" @click="onDeleteProfile(item.id)">
                    Delete profile
                </sw-context-menu-item>
            </template>

        </sw-entity-listing>
    </sw-card>

    <sw-settings-import-export-edit-profile-modal
        :profile="selectedProfile"
        @profile-save="saveSelectedProfile"
        @profile-close="closeSelectedProfile"
    ></sw-settings-import-export-edit-profile-modal>
</div>
